@import "tailwindcss";
@custom-variant dark (&:where(.dark, .dark *));

:root {
    --accent: #00c4b3;
    --accent-soft: rgba(0, 196, 179, 0.14);
}

html {
    scroll-behavior: smooth;
    color-scheme: light;
}

html.dark {
    color-scheme: dark;
}

@keyframes blink {
    0%,
    50% {
        opacity: 1;
    }
    51%,
    100% {
        opacity: 0;
    }
}

@keyframes bounce-subtle {
    0%,
    20%,
    50%,
    80%,
    100% {
        transform: translateY(0);
    }
    40% {
        transform: translateY(-3px);
    }
    60% {
        transform: translateY(-1px);
    }
}

@keyframes fade-in-up {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

@keyframes aurora-shift {
    0% {
        background-position:
            0% 50%,
            100% 50%,
            50% 0%;
    }
    50% {
        background-position:
            100% 50%,
            0% 50%,
            50% 100%;
    }
    100% {
        background-position:
            0% 50%,
            100% 50%,
            50% 0%;
    }
}

@keyframes float-slow {
    0%,
    100% {
        transform: translate3d(0, 0, 0);
    }
    50% {
        transform: translate3d(0, -14px, 0);
    }
}

@keyframes reveal-rise {
    from {
        opacity: 0;
        transform: translate3d(0, 26px, 0) scale(0.985);
        filter: blur(8px);
    }
    to {
        opacity: 1;
        transform: translate3d(0, 0, 0) scale(1);
        filter: blur(0);
    }
}

@keyframes spotlight-sweep {
    0% {
        transform: translateX(-130%);
    }
    100% {
        transform: translateX(130%);
    }
}

.animate-blink {
    animation: blink 1s infinite;
}

.animate-bounce-subtle {
    animation: bounce-subtle 2s infinite;
}

.animate-fade-in-up {
    animation: fade-in-up 0.6s ease-out;
}

.animate-shimmer {
    background: linear-gradient(
        90deg,
        transparent,
        rgba(0, 196, 179, 0.2),
        transparent
    );
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
}

.hero-aurora {
    background-image:
        radial-gradient(
            circle at 12% 28%,
            rgba(0, 196, 179, 0.3),
            transparent 45%
        ),
        radial-gradient(
            circle at 88% 20%,
            rgba(59, 130, 246, 0.18),
            transparent 42%
        ),
        radial-gradient(
            circle at 45% 78%,
            rgba(0, 196, 179, 0.2),
            transparent 40%
        );
    background-size:
        130% 130%,
        130% 130%,
        130% 130%;
    animation: aurora-shift 16s ease-in-out infinite;
}

.hero-grid {
    background-image:
        linear-gradient(
            to right,
            rgba(148, 163, 184, 0.12) 1px,
            transparent 1px
        ),
        linear-gradient(
            to bottom,
            rgba(148, 163, 184, 0.12) 1px,
            transparent 1px
        );
    background-size: 44px 44px;
    mask-image: radial-gradient(circle at center, black 30%, transparent 85%);
}

.reveal-up {
    animation: reveal-rise 0.95s cubic-bezier(0.2, 0.8, 0.2, 1) both;
}

.reveal-delay-1 {
    animation-delay: 0.2s;
}

.reveal-delay-2 {
    animation-delay: 0.42s;
}

.reveal-delay-3 {
    animation-delay: 0.62s;
}

.reveal-delay-4 {
    animation-delay: 0.84s;
}

.floating-slow {
    animation: float-slow 6s ease-in-out infinite;
}

.text-shine {
    background: linear-gradient(110deg, #0f172a 20%, #00c4b3 45%, #0f172a 70%);
    background-size: 220% auto;
    background-clip: text;
    color: transparent;
    animation: shimmer 3.6s linear infinite;
}

.dark .text-shine {
    background: linear-gradient(110deg, #e2e8f0 20%, #00c4b3 45%, #e2e8f0 70%);
    background-size: 220% auto;
    background-clip: text;
}

.tilt-card {
    transform-style: preserve-3d;
    will-change: transform;
}

.card-spotlight {
    position: absolute;
    inset: 0;
    border-radius: inherit;
    pointer-events: none;
    opacity: 0;
    transition: opacity 0.35s ease;
}

.group:hover .card-spotlight {
    opacity: 1;
}

.spotlight-sweep::after {
    content: "";
    position: absolute;
    inset: -40% auto -40% -20%;
    width: 28%;
    background: linear-gradient(
        to right,
        transparent,
        rgba(255, 255, 255, 0.38),
        transparent
    );
    transform: translateX(-130%);
    animation: spotlight-sweep 1.8s ease-in-out infinite;
    pointer-events: none;
}

.section-noise::before {
    content: "";
    position: absolute;
    inset: 0;
    background-image: radial-gradient(
        rgba(15, 23, 42, 0.07) 0.55px,
        transparent 0.55px
    );
    background-size: 3px 3px;
    opacity: 0.1;
    pointer-events: none;
}

body {
    overflow-x: hidden;
}

.apple-scroll-stage {
    position: relative;
}

.apple-scene {
    --enter: 0;
    --scroll: 0;
    --exit: 0;
    --scroll-y: 0px;
    position: relative;
    /* height set dynamically by JS based on content */
}

.apple-scene-sticky {
    position: sticky;
    top: 0;
    height: 100svh;
    overflow: clip;
    background: white;
}

.dark .apple-scene-sticky {
    background: #1a1a1a;
}

.apple-scene-content {
    /* Phase 1 (enter): rise 60px → 0, scale 0.98 → 1, opacity 0 → 1 */
    /* Phase 2 (scroll): translateY to scroll content, no other effect */
    /* Phase 3 (exit): scale 1 → 0.96, opacity 1 → 0.4 */
    transform: translate3d(
            0,
            calc((1 - var(--enter)) * 32px + var(--scroll-y)),
            0
        )
        scale(calc((0.98 + var(--enter) * 0.02) * (1 - var(--exit) * 0.04)));
    opacity: calc(var(--enter) * (1 - var(--exit) * 0.6));
    will-change: transform, opacity;
}

.apple-scene-content::before {
    content: "";
    position: absolute;
    inset: 0;
    box-shadow: 0 -20px 60px rgba(0, 0, 0, 0.12);
    border-radius: inherit;
    opacity: calc(1 - var(--enter));
    pointer-events: none;
    z-index: -1;
}

.apple-scene-content .scroll-fx {
    opacity: calc(0.1 + clamp(0, (var(--enter) - 0.5) / 0.5, 1) * 0.9);
    transform: translate3d(
        0,
        calc((1 - clamp(0, (var(--enter) - 0.5) / 0.5, 1)) * 30px),
        0
    );
    will-change: transform, opacity;
}

.cv-auto {
    content-visibility: auto;
    contain-intrinsic-size: 1px 900px;
}

*::-webkit-scrollbar {
    width: 8px;
}

*::-webkit-scrollbar-track {
    background: #e2e8f0;
}

*::-webkit-scrollbar-thumb {
    background: #00c4b3;
    border-radius: 4px;
}

*::-webkit-scrollbar-thumb:hover {
    background: #00a699;
}

@media (prefers-color-scheme: dark) {
    *::-webkit-scrollbar-track {
        background: #1a1a1a;
    }
}

@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
    }

    .apple-scene {
        height: auto !important;
    }

    .apple-scene-sticky {
        position: static !important;
        height: auto !important;
        overflow: visible !important;
    }

    .apple-scene-content {
        transform: none !important;
        opacity: 1 !important;
        will-change: auto !important;
    }

    .apple-scene-content::before {
        display: none !important;
    }

    .apple-scene-content .scroll-fx {
        transform: none !important;
        opacity: 1 !important;
        will-change: auto !important;
    }
}
